"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/parse-resume";
exports.ids = ["pages/api/parse-resume"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fparse-resume&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fparse-resume.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fparse-resume&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fparse-resume.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_parse_resume_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/parse-resume.ts */ \"(api-node)/./src/pages/api/parse-resume.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_parse_resume_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_parse_resume_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_parse_resume_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_parse_resume_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/parse-resume\",\n        pathname: \"/api/parse-resume\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_parse_resume_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcGFyc2UtcmVzdW1lJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTJGcGFnZXMlMkZhcGklMkZwYXJzZS1yZXN1bWUudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDNEQ7QUFDNUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvcGFyc2UtcmVzdW1lLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wYXJzZS1yZXN1bWVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wYXJzZS1yZXN1bWVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fparse-resume&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fparse-resume.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./src/pages/api/parse-resume.ts":
/*!***************************************!*\
  !*** ./src/pages/api/parse-resume.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"openai\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! crypto-js */ \"crypto-js\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_1__]);\nopenai__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst parsedCache = global._parsedResumeCache || new Map();\nif (true) {\n    global._parsedResumeCache = parsedCache;\n}\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        res.setHeader('Allow', [\n            'POST'\n        ]);\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        const { resume: encryptedResume } = req.body;\n        if (!encryptedResume) {\n            return res.status(400).json({\n                error: 'Missing resume text'\n            });\n        }\n        // Decrypt resume if necessary\n        let resumeText = encryptedResume;\n        if (process.env.ENCRYPTION_SECRET) {\n            try {\n                const bytes = crypto_js__WEBPACK_IMPORTED_MODULE_2___default().AES.decrypt(encryptedResume, process.env.ENCRYPTION_SECRET);\n                const decrypted = bytes.toString((crypto_js__WEBPACK_IMPORTED_MODULE_2___default().enc).Utf8);\n                if (decrypted) resumeText = decrypted;\n            } catch (err) {\n                console.warn('[parse-resume] Decryption failed, using raw input.');\n            }\n        }\n        // Normalize and hash\n        const normalized = resumeText.replace(/\\s+/g, ' ').trim();\n        const hash = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(normalized).digest('hex');\n        if (parsedCache.has(hash)) {\n            return res.status(200).json({\n                parsedResume: parsedCache.get(hash)\n            });\n        }\n        // Unified system prompt (ask for everything at once)\n        const systemPrompt = `\nYou are a professional resume parser. Read the full resume and return valid JSON with the following fields:\n- name\n- contact: { email, phone, link }\n- summary\n- work: [ { company, title, from, to, bullets[] } ]\n- education: [ { institution, degree, from, to } ]\n- skills[]\n- certifications[]\n- awards[]\n\nRules:\n- Capture all bullets under each role in work history.\n- For bullets, split entries on lines starting with '-', '•', or '*' and remove the marker. If bullet markers are not present, split on line breaks to separate distinct points.\n- Only return structured, valid JSON with no extra text.\n- Do your best to infer missing dates if not present.\n- Include all available contact details (even if not labeled clearly).\n`.trim();\n        const completion = await openai.chat.completions.create({\n            model: 'gpt-4.1-mini-2025-04-14',\n            messages: [\n                {\n                    role: 'system',\n                    content: systemPrompt\n                },\n                {\n                    role: 'user',\n                    content: resumeText\n                }\n            ],\n            temperature: 0\n        });\n        const parsed = completion.choices[0]?.message?.content;\n        if (!parsed) throw new Error('No response from LLM.');\n        const parsedJson = JSON.parse(parsed);\n        parsedCache.set(hash, parsedJson);\n        return res.status(200).json({\n            parsedResume: parsedJson\n        });\n    } catch (err) {\n        console.error('[parse-resume] Error:', err);\n        return res.status(500).json({\n            error: err.message || 'Internal server error'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NyYy9wYWdlcy9hcGkvcGFyc2UtcmVzdW1lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUNvQztBQUNSO0FBQ0s7QUFRakMsTUFBTUcsY0FBY0MsT0FBT0Msa0JBQWtCLElBQUksSUFBSUM7QUFDckQsSUFBSUMsSUFBcUMsRUFBRTtJQUN6Q0gsT0FBT0Msa0JBQWtCLEdBQUdGO0FBQzlCO0FBRUEsTUFBTUssU0FBUyxJQUFJUCw4Q0FBTUEsQ0FBQztJQUFFUSxRQUFRRixRQUFRRyxHQUFHLENBQUNDLGNBQWM7QUFBQztBQUVoRCxlQUFlQyxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QkQsSUFBSUUsU0FBUyxDQUFDLFNBQVM7WUFBQztTQUFPO1FBQy9CLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVDLFFBQVFDLGVBQWUsRUFBRSxHQUFHUixJQUFJUyxJQUFJO1FBRTVDLElBQUksQ0FBQ0QsaUJBQWlCO1lBQ3BCLE9BQU9QLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBc0I7UUFDN0Q7UUFFQSw4QkFBOEI7UUFDOUIsSUFBSUksYUFBYUY7UUFDakIsSUFBSWQsUUFBUUcsR0FBRyxDQUFDYyxpQkFBaUIsRUFBRTtZQUNqQyxJQUFJO2dCQUNGLE1BQU1DLFFBQVF2QixvREFBWSxDQUFDeUIsT0FBTyxDQUFDTixpQkFBaUJkLFFBQVFHLEdBQUcsQ0FBQ2MsaUJBQWlCO2dCQUNqRixNQUFNSSxZQUFZSCxNQUFNSSxRQUFRLENBQUMzQixzREFBWSxDQUFDNkIsSUFBSTtnQkFDbEQsSUFBSUgsV0FBV0wsYUFBYUs7WUFDOUIsRUFBRSxPQUFPSSxLQUFLO2dCQUNaQyxRQUFRQyxJQUFJLENBQUM7WUFDZjtRQUNGO1FBRUEscUJBQXFCO1FBQ3JCLE1BQU1DLGFBQWFaLFdBQVdhLE9BQU8sQ0FBQyxRQUFRLEtBQUtDLElBQUk7UUFDdkQsTUFBTUMsT0FBT3RDLGtEQUFVQSxDQUFDLFVBQVV1QyxNQUFNLENBQUNKLFlBQVlLLE1BQU0sQ0FBQztRQUU1RCxJQUFJckMsWUFBWXNDLEdBQUcsQ0FBQ0gsT0FBTztZQUN6QixPQUFPeEIsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRXdCLGNBQWN2QyxZQUFZd0MsR0FBRyxDQUFDTDtZQUFNO1FBQ3BFO1FBRUEscURBQXFEO1FBQ3JELE1BQU1NLGVBQWUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQjFCLENBQUMsQ0FBQ1AsSUFBSTtRQUVGLE1BQU1RLGFBQWEsTUFBTXJDLE9BQU9zQyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO1lBQ3REQyxPQUFPO1lBQ1BDLFVBQVU7Z0JBQ1I7b0JBQUVDLE1BQU07b0JBQVVDLFNBQVNSO2dCQUFhO2dCQUN4QztvQkFBRU8sTUFBTTtvQkFBUUMsU0FBUzdCO2dCQUFXO2FBQ3JDO1lBQ0Q4QixhQUFhO1FBQ2Y7UUFFQSxNQUFNQyxTQUFTVCxXQUFXVSxPQUFPLENBQUMsRUFBRSxFQUFFQyxTQUFTSjtRQUMvQyxJQUFJLENBQUNFLFFBQVEsTUFBTSxJQUFJRyxNQUFNO1FBRTdCLE1BQU1DLGFBQXlCQyxLQUFLQyxLQUFLLENBQUNOO1FBQzFDbkQsWUFBWTBELEdBQUcsQ0FBQ3ZCLE1BQU1vQjtRQUV0QixPQUFPNUMsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFd0IsY0FBY2dCO1FBQVc7SUFDekQsRUFBRSxPQUFPMUIsS0FBVTtRQUNqQkMsUUFBUWQsS0FBSyxDQUFDLHlCQUF5QmE7UUFDdkMsT0FBT2xCLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBT2EsSUFBSXdCLE9BQU8sSUFBSTtRQUF3QjtJQUM5RTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvY29saW5oYXllcy9yZXppYS1haS1yZXN1bWUtY3JhZnQvc3JjL3BhZ2VzL2FwaS9wYXJzZS1yZXN1bWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSAnY3J5cHRvJztcbmltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcbmltcG9ydCBDcnlwdG9KUyBmcm9tICdjcnlwdG8tanMnO1xuaW1wb3J0IHR5cGUgeyBSZXN1bWVEYXRhIH0gZnJvbSAnQC90eXBlcy9yZXN1bWUnO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gfSBmcm9tICdvcGVuYWkvcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMubWpzJztcblxuLy8gSW4tbWVtb3J5IGNhY2hlIGZvciBwYXJzZWQgcmVzdW1lcyAocGVyc2lzdHMgYWNyb3NzIHdhcm0gbGFtYmRhIGludm9jYXRpb25zKVxuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgX3BhcnNlZFJlc3VtZUNhY2hlOiBNYXA8c3RyaW5nLCBSZXN1bWVEYXRhPiB8IHVuZGVmaW5lZDtcbn1cbmNvbnN0IHBhcnNlZENhY2hlID0gZ2xvYmFsLl9wYXJzZWRSZXN1bWVDYWNoZSB8fCBuZXcgTWFwPHN0cmluZywgUmVzdW1lRGF0YT4oKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGdsb2JhbC5fcGFyc2VkUmVzdW1lQ2FjaGUgPSBwYXJzZWRDYWNoZTtcbn1cblxuY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSh7IGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydQT1NUJ10pO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyByZXN1bWU6IGVuY3J5cHRlZFJlc3VtZSB9ID0gcmVxLmJvZHkgYXMgeyByZXN1bWU/OiBzdHJpbmcgfTtcblxuICAgIGlmICghZW5jcnlwdGVkUmVzdW1lKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgcmVzdW1lIHRleHQnIH0pO1xuICAgIH1cblxuICAgIC8vIERlY3J5cHQgcmVzdW1lIGlmIG5lY2Vzc2FyeVxuICAgIGxldCByZXN1bWVUZXh0ID0gZW5jcnlwdGVkUmVzdW1lO1xuICAgIGlmIChwcm9jZXNzLmVudi5FTkNSWVBUSU9OX1NFQ1JFVCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYnl0ZXMgPSBDcnlwdG9KUy5BRVMuZGVjcnlwdChlbmNyeXB0ZWRSZXN1bWUsIHByb2Nlc3MuZW52LkVOQ1JZUFRJT05fU0VDUkVUKTtcbiAgICAgICAgY29uc3QgZGVjcnlwdGVkID0gYnl0ZXMudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO1xuICAgICAgICBpZiAoZGVjcnlwdGVkKSByZXN1bWVUZXh0ID0gZGVjcnlwdGVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW3BhcnNlLXJlc3VtZV0gRGVjcnlwdGlvbiBmYWlsZWQsIHVzaW5nIHJhdyBpbnB1dC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3JtYWxpemUgYW5kIGhhc2hcbiAgICBjb25zdCBub3JtYWxpemVkID0gcmVzdW1lVGV4dC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuICAgIGNvbnN0IGhhc2ggPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUobm9ybWFsaXplZCkuZGlnZXN0KCdoZXgnKTtcblxuICAgIGlmIChwYXJzZWRDYWNoZS5oYXMoaGFzaCkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHBhcnNlZFJlc3VtZTogcGFyc2VkQ2FjaGUuZ2V0KGhhc2gpIH0pO1xuICAgIH1cblxuICAgIC8vIFVuaWZpZWQgc3lzdGVtIHByb21wdCAoYXNrIGZvciBldmVyeXRoaW5nIGF0IG9uY2UpXG4gICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFxuWW91IGFyZSBhIHByb2Zlc3Npb25hbCByZXN1bWUgcGFyc2VyLiBSZWFkIHRoZSBmdWxsIHJlc3VtZSBhbmQgcmV0dXJuIHZhbGlkIEpTT04gd2l0aCB0aGUgZm9sbG93aW5nIGZpZWxkczpcbi0gbmFtZVxuLSBjb250YWN0OiB7IGVtYWlsLCBwaG9uZSwgbGluayB9XG4tIHN1bW1hcnlcbi0gd29yazogWyB7IGNvbXBhbnksIHRpdGxlLCBmcm9tLCB0bywgYnVsbGV0c1tdIH0gXVxuLSBlZHVjYXRpb246IFsgeyBpbnN0aXR1dGlvbiwgZGVncmVlLCBmcm9tLCB0byB9IF1cbi0gc2tpbGxzW11cbi0gY2VydGlmaWNhdGlvbnNbXVxuLSBhd2FyZHNbXVxuXG5SdWxlczpcbi0gQ2FwdHVyZSBhbGwgYnVsbGV0cyB1bmRlciBlYWNoIHJvbGUgaW4gd29yayBoaXN0b3J5LlxuLSBGb3IgYnVsbGV0cywgc3BsaXQgZW50cmllcyBvbiBsaW5lcyBzdGFydGluZyB3aXRoICctJywgJ+KAoicsIG9yICcqJyBhbmQgcmVtb3ZlIHRoZSBtYXJrZXIuIElmIGJ1bGxldCBtYXJrZXJzIGFyZSBub3QgcHJlc2VudCwgc3BsaXQgb24gbGluZSBicmVha3MgdG8gc2VwYXJhdGUgZGlzdGluY3QgcG9pbnRzLlxuLSBPbmx5IHJldHVybiBzdHJ1Y3R1cmVkLCB2YWxpZCBKU09OIHdpdGggbm8gZXh0cmEgdGV4dC5cbi0gRG8geW91ciBiZXN0IHRvIGluZmVyIG1pc3NpbmcgZGF0ZXMgaWYgbm90IHByZXNlbnQuXG4tIEluY2x1ZGUgYWxsIGF2YWlsYWJsZSBjb250YWN0IGRldGFpbHMgKGV2ZW4gaWYgbm90IGxhYmVsZWQgY2xlYXJseSkuXG5gLnRyaW0oKTtcblxuICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgbW9kZWw6ICdncHQtNC4xLW1pbmktMjAyNS0wNC0xNCcsXG4gICAgICBtZXNzYWdlczogW1xuICAgICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBzeXN0ZW1Qcm9tcHQgfSxcbiAgICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHJlc3VtZVRleHQgfVxuICAgICAgXSxcbiAgICAgIHRlbXBlcmF0dXJlOiAwLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcGFyc2VkID0gY29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlPy5jb250ZW50O1xuICAgIGlmICghcGFyc2VkKSB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlc3BvbnNlIGZyb20gTExNLicpO1xuXG4gICAgY29uc3QgcGFyc2VkSnNvbjogUmVzdW1lRGF0YSA9IEpTT04ucGFyc2UocGFyc2VkKTtcbiAgICBwYXJzZWRDYWNoZS5zZXQoaGFzaCwgcGFyc2VkSnNvbik7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBwYXJzZWRSZXN1bWU6IHBhcnNlZEpzb24gfSk7XG4gIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignW3BhcnNlLXJlc3VtZV0gRXJyb3I6JywgZXJyKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiY3JlYXRlSGFzaCIsIk9wZW5BSSIsIkNyeXB0b0pTIiwicGFyc2VkQ2FjaGUiLCJnbG9iYWwiLCJfcGFyc2VkUmVzdW1lQ2FjaGUiLCJNYXAiLCJwcm9jZXNzIiwib3BlbmFpIiwiYXBpS2V5IiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic2V0SGVhZGVyIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicmVzdW1lIiwiZW5jcnlwdGVkUmVzdW1lIiwiYm9keSIsInJlc3VtZVRleHQiLCJFTkNSWVBUSU9OX1NFQ1JFVCIsImJ5dGVzIiwiQUVTIiwiZGVjcnlwdCIsImRlY3J5cHRlZCIsInRvU3RyaW5nIiwiZW5jIiwiVXRmOCIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwibm9ybWFsaXplZCIsInJlcGxhY2UiLCJ0cmltIiwiaGFzaCIsInVwZGF0ZSIsImRpZ2VzdCIsImhhcyIsInBhcnNlZFJlc3VtZSIsImdldCIsInN5c3RlbVByb21wdCIsImNvbXBsZXRpb24iLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsInBhcnNlZCIsImNob2ljZXMiLCJtZXNzYWdlIiwiRXJyb3IiLCJwYXJzZWRKc29uIiwiSlNPTiIsInBhcnNlIiwic2V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./src/pages/api/parse-resume.ts\n");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "crypto-js":
/*!****************************!*\
  !*** external "crypto-js" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("crypto-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fparse-resume&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fparse-resume.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();