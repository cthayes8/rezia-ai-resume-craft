/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/optimize-resume/route";
exports.ids = ["app/api/optimize-resume/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Foptimize-resume%2Froute&page=%2Fapi%2Foptimize-resume%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptimize-resume%2Froute.ts&appDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Foptimize-resume%2Froute&page=%2Fapi%2Foptimize-resume%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptimize-resume%2Froute.ts&appDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_colinhayes_rezia_ai_resume_craft_src_app_api_optimize_resume_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/optimize-resume/route.ts */ \"(rsc)/./src/app/api/optimize-resume/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/optimize-resume/route\",\n        pathname: \"/api/optimize-resume\",\n        filename: \"route\",\n        bundlePath: \"app/api/optimize-resume/route\"\n    },\n    resolvedPagePath: \"/Users/colinhayes/rezia-ai-resume-craft/src/app/api/optimize-resume/route.ts\",\n    nextConfigOutput,\n    userland: _Users_colinhayes_rezia_ai_resume_craft_src_app_api_optimize_resume_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZvcHRpbWl6ZS1yZXN1bWUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9wdGltaXplLXJlc3VtZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9wdGltaXplLXJlc3VtZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNvbGluaGF5ZXMlMkZyZXppYS1haS1yZXN1bWUtY3JhZnQlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGY29saW5oYXllcyUyRnJlemlhLWFpLXJlc3VtZS1jcmFmdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDNEI7QUFDekc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9jb2xpbmhheWVzL3JlemlhLWFpLXJlc3VtZS1jcmFmdC9zcmMvYXBwL2FwaS9vcHRpbWl6ZS1yZXN1bWUvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29wdGltaXplLXJlc3VtZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL29wdGltaXplLXJlc3VtZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvb3B0aW1pemUtcmVzdW1lL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2NvbGluaGF5ZXMvcmV6aWEtYWktcmVzdW1lLWNyYWZ0L3NyYy9hcHAvYXBpL29wdGltaXplLXJlc3VtZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Foptimize-resume%2Froute&page=%2Fapi%2Foptimize-resume%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptimize-resume%2Froute.ts&appDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/optimize-resume/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/optimize-resume/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/auth.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/server/clerkClient.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\n// heavy parsing steps moved to Pages API for faster warm lambdas\n// Removed direct import of internal API handlers; using HTTP fetch to Pages API instead\nconst runtime = 'nodejs';\n/**\n * API Route: Full orchestration of resume optimization as a single Node.js function\n */ async function POST(req) {\n    try {\n        const { resumeText, resumeData, jobDescription, templateId, fileName } = await req.json();\n        if (!jobDescription || !resumeText && !resumeData) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Missing resumeData or resumeText, and jobDescription'\n            }, {\n                status: 400\n            });\n        }\n        // Authenticate user\n        const session = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_3__.auth)();\n        const userId = session.userId;\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        // Ensure user record\n        const clerkUser = await (await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_4__.clerkClient)()).users.getUser(userId);\n        const email = clerkUser.emailAddresses[0]?.emailAddress || '';\n        const fullName = `${clerkUser.firstName || ''} ${clerkUser.lastName || ''}`.trim();\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.user.upsert({\n            where: {\n                id: userId\n            },\n            create: {\n                id: userId,\n                email,\n                fullName\n            },\n            update: {\n                email,\n                fullName\n            }\n        });\n        // Prepare baseUrl for API calls\n        const protocol =  true ? 'http' : 0;\n        const host = req.headers.get('host');\n        const baseUrl = `${protocol}://${host}`;\n        // Always save resume file metadata so we have a file record\n        const rawText = resumeText ?? '';\n        const normalizedText = rawText.replace(/\\s+/g, ' ').trim();\n        const originalTextHash = (0,crypto__WEBPACK_IMPORTED_MODULE_2__.createHash)('sha256').update(normalizedText).digest('hex');\n        const resumeFile = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.resumeFile.create({\n            data: {\n                userId,\n                fileName: fileName || '',\n                filePath: '',\n                originalTextHash\n            }\n        });\n        // Determine parsed resume: prefer provided resumeData, else cached or LLM parse\n        let parsedResume;\n        if (resumeData) {\n            parsedResume = resumeData;\n        } else {\n            // Try to load cached parsedData\n            const saved = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.savedResume.findFirst({\n                where: {\n                    userId,\n                    textHash: originalTextHash\n                }\n            });\n            if (saved?.parsedData) {\n                parsedResume = saved.parsedData;\n            } else {\n                const parseRes = await fetch(`${baseUrl}/api/parse-resume`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        resume: resumeText,\n                        jobDescription\n                    })\n                });\n                if (!parseRes.ok) throw new Error('parse-resume failed');\n                parsedResume = (await parseRes.json()).parsedResume;\n            }\n        }\n        // 1. Extract JD info via Pages API (baseUrl defined earlier)\n        const jdRes = await fetch(`${baseUrl}/api/extract-jd-info`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                jobDescription\n            })\n        });\n        if (!jdRes.ok) throw new Error('extract-jd-info failed');\n        const { keywords, targetTitle, targetCompany, requirements } = await jdRes.json();\n        // Deep-clone to preserve the original parsed resume before mutation\n        const originalParsedResume = JSON.parse(JSON.stringify(parsedResume));\n        // Work on a separate copy for updates\n        const updated = JSON.parse(JSON.stringify(parsedResume));\n        // Ensure certifications and awards from parsed resume persist into optimized version\n        updated.certifications = parsedResume.certifications || [];\n        updated.awards = parsedResume.awards || [];\n        // 3. Map keywords via Pages API\n        const mapRes = await fetch(`${baseUrl}/api/map-keywords`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                resumeData: updated,\n                keywords\n            })\n        });\n        if (!mapRes.ok) throw new Error('map-keywords failed');\n        const { assignments } = await mapRes.json();\n        // 4. Rewrite bullets in parallel with limited concurrency, avoiding duplicate start verbs\n        const rewriteResults = [];\n        // Track used leading verbs to avoid repetition\n        const usedVerbs = [];\n        // Prepare tasks for each bullet\n        const tasks = [];\n        updated.work.forEach((workItem, wi)=>{\n            workItem.bullets.forEach((bullet, bi)=>{\n                const assignment = assignments.find((a)=>a.workIndex === wi && a.bulletIndex === bi);\n                tasks.push({\n                    wi,\n                    bi,\n                    bullet,\n                    assignedKeywords: assignment?.assignedKeywords || []\n                });\n            });\n        });\n        const concurrency = 3;\n        for(let i = 0; i < tasks.length; i += concurrency){\n            const batch = tasks.slice(i, i + concurrency);\n            // Send rewrite requests, passing already used verbs\n            const results = await Promise.all(batch.map(async ({ wi, bi, bullet, assignedKeywords })=>{\n                const bulletRes = await fetch(`${baseUrl}/api/rewrite-bullet`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        bullet,\n                        keywords: assignedKeywords,\n                        jobTitle: updated.work[wi].title,\n                        company: updated.work[wi].company,\n                        jobDescription,\n                        skills: updated.skills,\n                        targetTitle,\n                        targetCompany,\n                        requirements,\n                        usedVerbs\n                    })\n                });\n                if (!bulletRes.ok) throw new Error('rewrite-bullet failed');\n                const { rewrittenBullet, keywordsUsed } = await bulletRes.json();\n                return {\n                    wi,\n                    bi,\n                    rewrittenBullet,\n                    keywordsUsed\n                };\n            }));\n            // Apply results and capture leading verbs\n            results.forEach(({ wi, bi, rewrittenBullet, keywordsUsed })=>{\n                updated.work[wi].bullets[bi] = rewrittenBullet;\n                rewriteResults.push({\n                    workIndex: wi,\n                    bulletIndex: bi,\n                    rewrittenBullet,\n                    keywordsUsed\n                });\n                // Extract first word as verb and track it\n                const firstWord = rewrittenBullet.trim().split(/\\s+/)[0].replace(/[^A-Za-z]/g, '');\n                if (firstWord) usedVerbs.push(firstWord.toLowerCase());\n            });\n        }\n        // 5. Rewrite summary\n        // 5. Rewrite summary via Pages API\n        // Build an experience snapshot for prompt context\n        const companies = Array.from(new Set(parsedResume.work.map((w)=>w.company))).join(', ');\n        const titles = Array.from(new Set(parsedResume.work.map((w)=>w.title))).join(', ');\n        const parseYear = (s)=>{\n            const m = s.match(/\\d{4}/);\n            return m ? parseInt(m[0], 10) : null;\n        };\n        const endYears = parsedResume.work.map((w)=>parseYear(w.to || '') || new Date().getFullYear()).filter((y)=>!!y);\n        const startYears = parsedResume.work.map((w)=>parseYear(w.from || '') || endYears[0] || new Date().getFullYear()).filter((y)=>!!y);\n        const yearsExp = endYears.length && startYears.length ? Math.max(...endYears) - Math.min(...startYears) : null;\n        const experienceSnapshot = [\n            yearsExp ? `${yearsExp}+ years of experience` : '',\n            companies ? `across ${companies}` : '',\n            titles ? `roles as ${titles}` : ''\n        ].filter(Boolean).join(', ') + '.';\n        const summaryRes = await fetch(`${baseUrl}/api/rewrite-summary`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                originalSummary: parsedResume.summary,\n                optimizedBullets: updated.work.flatMap((w)=>w.bullets),\n                skills: updated.skills,\n                targetTitle,\n                targetCompany,\n                requirements,\n                keywords,\n                jobDescription,\n                experienceSnapshot\n            })\n        });\n        if (!summaryRes.ok) throw new Error('rewrite-summary failed');\n        const { rewrittenSummary } = await summaryRes.json();\n        updated.summary = rewrittenSummary;\n        // 6. Rewrite skills\n        // 6. Rewrite skills via Pages API\n        const skillsRes = await fetch(`${baseUrl}/api/rewrite-skills`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                originalSkills: updated.skills,\n                optimizedSummary: updated.summary,\n                optimizedBullets: updated.work.flatMap((w)=>w.bullets),\n                keywords,\n                targetTitle,\n                targetCompany,\n                requirements,\n                jobDescription\n            })\n        });\n        if (!skillsRes.ok) throw new Error('rewrite-skills failed');\n        const { rewrittenSkills } = await skillsRes.json();\n        updated.skills = rewrittenSkills;\n        // 7. Rewrite projects via Pages API (if present)\n        if (parsedResume.projects && parsedResume.projects.length > 0) {\n            const projRes = await fetch(`${baseUrl}/api/rewrite-projects`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    projects: parsedResume.projects,\n                    keywords,\n                    requirements,\n                    targetTitle,\n                    targetCompany,\n                    jobDescription,\n                    skills: updated.skills,\n                    summary: updated.summary\n                })\n            });\n            if (!projRes.ok) throw new Error('rewrite-projects failed');\n            const { rewrittenProjects } = await projRes.json();\n            updated.projects = rewrittenProjects;\n        }\n        // Ensure certifications & awards flow through to optimized resume\n        updated.certifications = parsedResume.certifications || [];\n        updated.awards = parsedResume.awards || [];\n        // 8. Persist optimization run\n        const runData = {\n            userId,\n            resumeFileId: resumeFile.id,\n            jobDescription,\n            templateId: String(templateId),\n            originalText: JSON.stringify(originalParsedResume),\n            optimizedText: JSON.stringify(updated),\n            bulletRewrites: rewriteResults,\n            summaryRewrite: updated.summary,\n            skillsRewrite: JSON.stringify(updated.skills),\n            keywords,\n            requirements,\n            targetTitle,\n            targetCompany,\n            aiModel: 'o3-mini-2025-01-31',\n            tokenCount: 0,\n            costUsd: 0\n        };\n        const run = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.optimizationRun.create({\n            data: runData\n        });\n        // Return full result, ensuring certifications & awards are included\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            runId: run.id,\n            originalResume: originalParsedResume,\n            optimizedResume: {\n                ...updated,\n                certifications: parsedResume.certifications || [],\n                awards: parsedResume.awards || []\n            },\n            keywords,\n            requirements,\n            targetTitle,\n            targetCompany\n        });\n    } catch (error) {\n        console.error('Error in optimize-resume:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || 'Internal error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9vcHRpbWl6ZS1yZXN1bWUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkM7QUFDQztBQUNPO0FBQ2I7QUFDRjtBQUdwQyxpRUFBaUU7QUFDakUsd0ZBQXdGO0FBRWpGLE1BQU1LLFVBQVUsU0FBUztBQWFoQzs7Q0FFQyxHQUNNLGVBQWVDLEtBQUtDLEdBQVk7SUFDckMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxVQUFVLEVBQUVDLGNBQWMsRUFBRUMsVUFBVSxFQUFFQyxRQUFRLEVBQUUsR0FBSSxNQUFNTCxJQUFJTSxJQUFJO1FBQ3hGLElBQUksQ0FBQ0gsa0JBQW1CLENBQUNGLGNBQWMsQ0FBQ0MsWUFBYTtZQUNuRCxPQUFPVCxxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXVELEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUM1RztRQUVBLG9CQUFvQjtRQUNwQixNQUFNQyxVQUFVLE1BQU1mLDBEQUFJQTtRQUMxQixNQUFNZ0IsU0FBU0QsUUFBUUMsTUFBTTtRQUM3QixJQUFJLENBQUNBLFFBQVE7WUFDWCxPQUFPakIscURBQVlBLENBQUNhLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNwRTtRQUVBLHFCQUFxQjtRQUNyQixNQUFNRyxZQUFZLE1BQU0sQ0FBQyxNQUFNaEIsaUVBQVdBLEVBQUMsRUFBR2lCLEtBQUssQ0FBQ0MsT0FBTyxDQUFDSDtRQUM1RCxNQUFNSSxRQUFRSCxVQUFVSSxjQUFjLENBQUMsRUFBRSxFQUFFQyxnQkFBZ0I7UUFDM0QsTUFBTUMsV0FBVyxHQUFHTixVQUFVTyxTQUFTLElBQUksR0FBRyxDQUFDLEVBQUVQLFVBQVVRLFFBQVEsSUFBSSxJQUFJLENBQUNDLElBQUk7UUFDaEYsTUFBTXhCLCtDQUFNQSxDQUFDeUIsSUFBSSxDQUFDQyxNQUFNLENBQUM7WUFDdkJDLE9BQU87Z0JBQUVDLElBQUlk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dkJxSixPQUFPRixJQUFJakksRUFBRTtZQUNib0ksZ0JBQWdCL0Y7WUFDaEJnRyxpQkFBaUI7Z0JBQ2YsR0FBRzlGLE9BQU87Z0JBQ1ZDLGdCQUFnQnZCLGFBQWF1QixjQUFjLElBQUksRUFBRTtnQkFDakRDLFFBQVF4QixhQUFhd0IsTUFBTSxJQUFJLEVBQUU7WUFDbkM7WUFDQVI7WUFDQUc7WUFDQUY7WUFDQUM7UUFDRjtJQUNGLEVBQUUsT0FBT3BELE9BQVk7UUFDbkJ1SixRQUFRdkosS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBT2QscURBQVlBLENBQUNhLElBQUksQ0FBQztZQUFFQyxPQUFPQSxNQUFNd0osT0FBTyxJQUFJO1FBQWlCLEdBQUc7WUFBRXZKLFFBQVE7UUFBSTtJQUN2RjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvY29saW5oYXllcy9yZXppYS1haS1yZXN1bWUtY3JhZnQvc3JjL2FwcC9hcGkvb3B0aW1pemUtcmVzdW1lL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGF1dGggfSBmcm9tICdAY2xlcmsvbmV4dGpzL3NlcnZlcic7XG5pbXBvcnQgeyBjbGVya0NsaWVudCB9IGZyb20gJ0BjbGVyay9uZXh0anMvc2VydmVyJztcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSc7XG5pbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSAnY3J5cHRvJztcblxuaW1wb3J0IHR5cGUgeyBSZXN1bWVEYXRhLCBFeHRyYWN0SkRJbmZvUmVzcG9uc2UsIFBhcnNlUmVzdW1lUmVzcG9uc2UsIE1hcEtleXdvcmRzUmVzcG9uc2UsIFJld3JpdGVCdWxsZXRSZXNwb25zZSwgUmV3cml0ZVN1bW1hcnlSZXNwb25zZSwgUmV3cml0ZVNraWxsc1Jlc3BvbnNlLCBPcHRpbWl6YXRpb25SdW5EYXRhLCBCdWxsZXRSZXdyaXRlUmVzdWx0IH0gZnJvbSAnQC90eXBlcy9yZXN1bWUnO1xuLy8gaGVhdnkgcGFyc2luZyBzdGVwcyBtb3ZlZCB0byBQYWdlcyBBUEkgZm9yIGZhc3RlciB3YXJtIGxhbWJkYXNcbi8vIFJlbW92ZWQgZGlyZWN0IGltcG9ydCBvZiBpbnRlcm5hbCBBUEkgaGFuZGxlcnM7IHVzaW5nIEhUVFAgZmV0Y2ggdG8gUGFnZXMgQVBJIGluc3RlYWRcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSAnbm9kZWpzJztcblxuaW50ZXJmYWNlIE9wdGltaXplUmVzdW1lUmVxdWVzdCB7XG4gIHJlc3VtZVRleHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBwYXJzZWQgcmVzdW1lIGRhdGEgdG8gc2tpcCBwYXJzaW5nIHN0ZXBcbiAgICovXG4gIHJlc3VtZURhdGE/OiBSZXN1bWVEYXRhO1xuICBqb2JEZXNjcmlwdGlvbjogc3RyaW5nO1xuICB0ZW1wbGF0ZUlkPzogc3RyaW5nO1xuICBmaWxlTmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBUEkgUm91dGU6IEZ1bGwgb3JjaGVzdHJhdGlvbiBvZiByZXN1bWUgb3B0aW1pemF0aW9uIGFzIGEgc2luZ2xlIE5vZGUuanMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyByZXN1bWVUZXh0LCByZXN1bWVEYXRhLCBqb2JEZXNjcmlwdGlvbiwgdGVtcGxhdGVJZCwgZmlsZU5hbWUgfSA9IChhd2FpdCByZXEuanNvbigpKSBhcyBPcHRpbWl6ZVJlc3VtZVJlcXVlc3Q7XG4gICAgaWYgKCFqb2JEZXNjcmlwdGlvbiB8fCAoIXJlc3VtZVRleHQgJiYgIXJlc3VtZURhdGEpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgcmVzdW1lRGF0YSBvciByZXN1bWVUZXh0LCBhbmQgam9iRGVzY3JpcHRpb24nIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gQXV0aGVudGljYXRlIHVzZXJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYXV0aCgpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHNlc3Npb24udXNlcklkO1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdXNlciByZWNvcmRcbiAgICBjb25zdCBjbGVya1VzZXIgPSBhd2FpdCAoYXdhaXQgY2xlcmtDbGllbnQoKSkudXNlcnMuZ2V0VXNlcih1c2VySWQpO1xuICAgIGNvbnN0IGVtYWlsID0gY2xlcmtVc2VyLmVtYWlsQWRkcmVzc2VzWzBdPy5lbWFpbEFkZHJlc3MgfHwgJyc7XG4gICAgY29uc3QgZnVsbE5hbWUgPSBgJHtjbGVya1VzZXIuZmlyc3ROYW1lIHx8ICcnfSAke2NsZXJrVXNlci5sYXN0TmFtZSB8fCAnJ31gLnRyaW0oKTtcbiAgICBhd2FpdCBwcmlzbWEudXNlci51cHNlcnQoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJJZCB9LFxuICAgICAgY3JlYXRlOiB7IGlkOiB1c2VySWQsIGVtYWlsLCBmdWxsTmFtZSB9LFxuICAgICAgdXBkYXRlOiB7IGVtYWlsLCBmdWxsTmFtZSB9LFxuICAgIH0pO1xuXG4gICAgLy8gUHJlcGFyZSBiYXNlVXJsIGZvciBBUEkgY2FsbHNcbiAgICBjb25zdCBwcm90b2NvbCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJ2h0dHAnIDogJ2h0dHBzJztcbiAgICBjb25zdCBob3N0ID0gcmVxLmhlYWRlcnMuZ2V0KCdob3N0Jyk7XG4gICAgY29uc3QgYmFzZVVybCA9IGAke3Byb3RvY29sfTovLyR7aG9zdH1gO1xuICAgIC8vIEFsd2F5cyBzYXZlIHJlc3VtZSBmaWxlIG1ldGFkYXRhIHNvIHdlIGhhdmUgYSBmaWxlIHJlY29yZFxuICAgIGNvbnN0IHJhd1RleHQgPSByZXN1bWVUZXh0ID8/ICcnO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRUZXh0ID0gcmF3VGV4dC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuICAgIGNvbnN0IG9yaWdpbmFsVGV4dEhhc2ggPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUobm9ybWFsaXplZFRleHQpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgY29uc3QgcmVzdW1lRmlsZSA9IGF3YWl0IHByaXNtYS5yZXN1bWVGaWxlLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7IHVzZXJJZCwgZmlsZU5hbWU6IGZpbGVOYW1lIHx8ICcnLCBmaWxlUGF0aDogJycsIG9yaWdpbmFsVGV4dEhhc2ggfSxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgcGFyc2VkIHJlc3VtZTogcHJlZmVyIHByb3ZpZGVkIHJlc3VtZURhdGEsIGVsc2UgY2FjaGVkIG9yIExMTSBwYXJzZVxuICAgIGxldCBwYXJzZWRSZXN1bWU6IFJlc3VtZURhdGE7XG4gICAgaWYgKHJlc3VtZURhdGEpIHtcbiAgICAgIHBhcnNlZFJlc3VtZSA9IHJlc3VtZURhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyeSB0byBsb2FkIGNhY2hlZCBwYXJzZWREYXRhXG4gICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHByaXNtYS5zYXZlZFJlc3VtZS5maW5kRmlyc3QoeyB3aGVyZTogeyB1c2VySWQsIHRleHRIYXNoOiBvcmlnaW5hbFRleHRIYXNoIH0gfSk7XG4gICAgICBpZiAoc2F2ZWQ/LnBhcnNlZERhdGEpIHtcbiAgICAgICAgcGFyc2VkUmVzdW1lID0gc2F2ZWQucGFyc2VkRGF0YSBhcyBSZXN1bWVEYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcGFyc2VSZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9hcGkvcGFyc2UtcmVzdW1lYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcmVzdW1lOiByZXN1bWVUZXh0LCBqb2JEZXNjcmlwdGlvbiB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcGFyc2VSZXMub2spIHRocm93IG5ldyBFcnJvcigncGFyc2UtcmVzdW1lIGZhaWxlZCcpO1xuICAgICAgICBwYXJzZWRSZXN1bWUgPSAoYXdhaXQgcGFyc2VSZXMuanNvbigpKS5wYXJzZWRSZXN1bWUgYXMgUmVzdW1lRGF0YTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAxLiBFeHRyYWN0IEpEIGluZm8gdmlhIFBhZ2VzIEFQSSAoYmFzZVVybCBkZWZpbmVkIGVhcmxpZXIpXG4gICAgY29uc3QgamRSZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9hcGkvZXh0cmFjdC1qZC1pbmZvYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgam9iRGVzY3JpcHRpb24gfSksXG4gICAgfSk7XG4gICAgaWYgKCFqZFJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdleHRyYWN0LWpkLWluZm8gZmFpbGVkJyk7XG4gICAgY29uc3QgeyBrZXl3b3JkcywgdGFyZ2V0VGl0bGUsIHRhcmdldENvbXBhbnksIHJlcXVpcmVtZW50cyB9ID0gKGF3YWl0IGpkUmVzLmpzb24oKSkgYXMgRXh0cmFjdEpESW5mb1Jlc3BvbnNlO1xuXG4gICAgLy8gRGVlcC1jbG9uZSB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgcGFyc2VkIHJlc3VtZSBiZWZvcmUgbXV0YXRpb25cbiAgICBjb25zdCBvcmlnaW5hbFBhcnNlZFJlc3VtZTogUmVzdW1lRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyc2VkUmVzdW1lKSk7XG4gICAgLy8gV29yayBvbiBhIHNlcGFyYXRlIGNvcHkgZm9yIHVwZGF0ZXNcbiAgICBjb25zdCB1cGRhdGVkOiBSZXN1bWVEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwYXJzZWRSZXN1bWUpKTtcbiAgICAvLyBFbnN1cmUgY2VydGlmaWNhdGlvbnMgYW5kIGF3YXJkcyBmcm9tIHBhcnNlZCByZXN1bWUgcGVyc2lzdCBpbnRvIG9wdGltaXplZCB2ZXJzaW9uXG4gICAgdXBkYXRlZC5jZXJ0aWZpY2F0aW9ucyA9IHBhcnNlZFJlc3VtZS5jZXJ0aWZpY2F0aW9ucyB8fCBbXTtcbiAgICB1cGRhdGVkLmF3YXJkcyA9IHBhcnNlZFJlc3VtZS5hd2FyZHMgfHwgW107XG5cbiAgICAvLyAzLiBNYXAga2V5d29yZHMgdmlhIFBhZ2VzIEFQSVxuICAgIGNvbnN0IG1hcFJlcyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L2FwaS9tYXAta2V5d29yZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByZXN1bWVEYXRhOiB1cGRhdGVkLCBrZXl3b3JkcyB9KSxcbiAgICB9KTtcbiAgICBpZiAoIW1hcFJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdtYXAta2V5d29yZHMgZmFpbGVkJyk7XG4gICAgY29uc3QgeyBhc3NpZ25tZW50cyB9ID0gKGF3YWl0IG1hcFJlcy5qc29uKCkpIGFzIE1hcEtleXdvcmRzUmVzcG9uc2U7XG5cbiAgICAvLyA0LiBSZXdyaXRlIGJ1bGxldHMgaW4gcGFyYWxsZWwgd2l0aCBsaW1pdGVkIGNvbmN1cnJlbmN5LCBhdm9pZGluZyBkdXBsaWNhdGUgc3RhcnQgdmVyYnNcbiAgICBjb25zdCByZXdyaXRlUmVzdWx0czogQnVsbGV0UmV3cml0ZVJlc3VsdFtdID0gW107XG4gICAgLy8gVHJhY2sgdXNlZCBsZWFkaW5nIHZlcmJzIHRvIGF2b2lkIHJlcGV0aXRpb25cbiAgICBjb25zdCB1c2VkVmVyYnM6IHN0cmluZ1tdID0gW107XG4gICAgLy8gUHJlcGFyZSB0YXNrcyBmb3IgZWFjaCBidWxsZXRcbiAgICBjb25zdCB0YXNrczogeyB3aTogbnVtYmVyOyBiaTogbnVtYmVyOyBidWxsZXQ6IHN0cmluZzsgYXNzaWduZWRLZXl3b3Jkczogc3RyaW5nW10gfVtdID0gW107XG4gICAgdXBkYXRlZC53b3JrLmZvckVhY2goKHdvcmtJdGVtLCB3aSkgPT4ge1xuICAgICAgd29ya0l0ZW0uYnVsbGV0cy5mb3JFYWNoKChidWxsZXQsIGJpKSA9PiB7XG4gICAgICAgIGNvbnN0IGFzc2lnbm1lbnQgPSBhc3NpZ25tZW50cy5maW5kKChhKSA9PiBhLndvcmtJbmRleCA9PT0gd2kgJiYgYS5idWxsZXRJbmRleCA9PT0gYmkpO1xuICAgICAgICB0YXNrcy5wdXNoKHsgd2ksIGJpLCBidWxsZXQsIGFzc2lnbmVkS2V5d29yZHM6IGFzc2lnbm1lbnQ/LmFzc2lnbmVkS2V5d29yZHMgfHwgW10gfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBjb25jdXJyZW5jeSA9IDM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkgKz0gY29uY3VycmVuY3kpIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gdGFza3Muc2xpY2UoaSwgaSArIGNvbmN1cnJlbmN5KTtcbiAgICAgIC8vIFNlbmQgcmV3cml0ZSByZXF1ZXN0cywgcGFzc2luZyBhbHJlYWR5IHVzZWQgdmVyYnNcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgYmF0Y2gubWFwKGFzeW5jICh7IHdpLCBiaSwgYnVsbGV0LCBhc3NpZ25lZEtleXdvcmRzIH0pID0+IHtcbiAgICAgICAgICBjb25zdCBidWxsZXRSZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9hcGkvcmV3cml0ZS1idWxsZXRgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBidWxsZXQsXG4gICAgICAgICAgICAgIGtleXdvcmRzOiBhc3NpZ25lZEtleXdvcmRzLFxuICAgICAgICAgICAgICBqb2JUaXRsZTogdXBkYXRlZC53b3JrW3dpXS50aXRsZSxcbiAgICAgICAgICAgICAgY29tcGFueTogdXBkYXRlZC53b3JrW3dpXS5jb21wYW55LFxuICAgICAgICAgICAgICBqb2JEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgc2tpbGxzOiB1cGRhdGVkLnNraWxscyxcbiAgICAgICAgICAgICAgdGFyZ2V0VGl0bGUsXG4gICAgICAgICAgICAgIHRhcmdldENvbXBhbnksXG4gICAgICAgICAgICAgIHJlcXVpcmVtZW50cyxcbiAgICAgICAgICAgICAgdXNlZFZlcmJzLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFidWxsZXRSZXMub2spIHRocm93IG5ldyBFcnJvcigncmV3cml0ZS1idWxsZXQgZmFpbGVkJyk7XG4gICAgICAgICAgY29uc3QgeyByZXdyaXR0ZW5CdWxsZXQsIGtleXdvcmRzVXNlZCB9ID0gKGF3YWl0IGJ1bGxldFJlcy5qc29uKCkpIGFzIFJld3JpdGVCdWxsZXRSZXNwb25zZTtcbiAgICAgICAgICByZXR1cm4geyB3aSwgYmksIHJld3JpdHRlbkJ1bGxldCwga2V5d29yZHNVc2VkIH07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gQXBwbHkgcmVzdWx0cyBhbmQgY2FwdHVyZSBsZWFkaW5nIHZlcmJzXG4gICAgICByZXN1bHRzLmZvckVhY2goKHsgd2ksIGJpLCByZXdyaXR0ZW5CdWxsZXQsIGtleXdvcmRzVXNlZCB9KSA9PiB7XG4gICAgICAgIHVwZGF0ZWQud29ya1t3aV0uYnVsbGV0c1tiaV0gPSByZXdyaXR0ZW5CdWxsZXQ7XG4gICAgICAgIHJld3JpdGVSZXN1bHRzLnB1c2goeyB3b3JrSW5kZXg6IHdpLCBidWxsZXRJbmRleDogYmksIHJld3JpdHRlbkJ1bGxldCwga2V5d29yZHNVc2VkIH0pO1xuICAgICAgICAvLyBFeHRyYWN0IGZpcnN0IHdvcmQgYXMgdmVyYiBhbmQgdHJhY2sgaXRcbiAgICAgICAgY29uc3QgZmlyc3RXb3JkID0gcmV3cml0dGVuQnVsbGV0LnRyaW0oKS5zcGxpdCgvXFxzKy8pWzBdLnJlcGxhY2UoL1teQS1aYS16XS9nLCAnJyk7XG4gICAgICAgIGlmIChmaXJzdFdvcmQpIHVzZWRWZXJicy5wdXNoKGZpcnN0V29yZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIDUuIFJld3JpdGUgc3VtbWFyeVxuICAgIC8vIDUuIFJld3JpdGUgc3VtbWFyeSB2aWEgUGFnZXMgQVBJXG4gICAgLy8gQnVpbGQgYW4gZXhwZXJpZW5jZSBzbmFwc2hvdCBmb3IgcHJvbXB0IGNvbnRleHRcbiAgICBjb25zdCBjb21wYW5pZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQocGFyc2VkUmVzdW1lLndvcmsubWFwKHcgPT4gdy5jb21wYW55KSkpLmpvaW4oJywgJyk7XG4gICAgY29uc3QgdGl0bGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KHBhcnNlZFJlc3VtZS53b3JrLm1hcCh3ID0+IHcudGl0bGUpKSkuam9pbignLCAnKTtcbiAgICBjb25zdCBwYXJzZVllYXIgPSAoczogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBtID0gcy5tYXRjaCgvXFxkezR9Lyk7XG4gICAgICByZXR1cm4gbSA/IHBhcnNlSW50KG1bMF0sIDEwKSA6IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBlbmRZZWFycyA9IHBhcnNlZFJlc3VtZS53b3JrLm1hcCh3ID0+IHBhcnNlWWVhcih3LnRvIHx8ICcnKSB8fCBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpLmZpbHRlcigoeSk6IHkgaXMgbnVtYmVyID0+ICEheSk7XG4gICAgY29uc3Qgc3RhcnRZZWFycyA9IHBhcnNlZFJlc3VtZS53b3JrLm1hcCh3ID0+IHBhcnNlWWVhcih3LmZyb20gfHwgJycpIHx8IChlbmRZZWFyc1swXSB8fCBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpKS5maWx0ZXIoKHkpOiB5IGlzIG51bWJlciA9PiAhIXkpO1xuICAgIGNvbnN0IHllYXJzRXhwID0gZW5kWWVhcnMubGVuZ3RoICYmIHN0YXJ0WWVhcnMubGVuZ3RoID8gTWF0aC5tYXgoLi4uZW5kWWVhcnMpIC0gTWF0aC5taW4oLi4uc3RhcnRZZWFycykgOiBudWxsO1xuICAgIGNvbnN0IGV4cGVyaWVuY2VTbmFwc2hvdCA9IFtcbiAgICAgIHllYXJzRXhwID8gYCR7eWVhcnNFeHB9KyB5ZWFycyBvZiBleHBlcmllbmNlYCA6ICcnLFxuICAgICAgY29tcGFuaWVzID8gYGFjcm9zcyAke2NvbXBhbmllc31gIDogJycsXG4gICAgICB0aXRsZXMgPyBgcm9sZXMgYXMgJHt0aXRsZXN9YCA6ICcnXG4gICAgXS5maWx0ZXIoQm9vbGVhbikuam9pbignLCAnKSArICcuJztcbiAgICBjb25zdCBzdW1tYXJ5UmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vYXBpL3Jld3JpdGUtc3VtbWFyeWAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG9yaWdpbmFsU3VtbWFyeTogcGFyc2VkUmVzdW1lLnN1bW1hcnksXG4gICAgICAgIG9wdGltaXplZEJ1bGxldHM6IHVwZGF0ZWQud29yay5mbGF0TWFwKCh3KSA9PiB3LmJ1bGxldHMpLFxuICAgICAgICBza2lsbHM6IHVwZGF0ZWQuc2tpbGxzLFxuICAgICAgICB0YXJnZXRUaXRsZSxcbiAgICAgICAgdGFyZ2V0Q29tcGFueSxcbiAgICAgICAgcmVxdWlyZW1lbnRzLFxuICAgICAgICBrZXl3b3JkcyxcbiAgICAgICAgam9iRGVzY3JpcHRpb24sXG4gICAgICAgIGV4cGVyaWVuY2VTbmFwc2hvdCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIGlmICghc3VtbWFyeVJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdyZXdyaXRlLXN1bW1hcnkgZmFpbGVkJyk7XG4gICAgY29uc3QgeyByZXdyaXR0ZW5TdW1tYXJ5IH0gPSAoYXdhaXQgc3VtbWFyeVJlcy5qc29uKCkpIGFzIFJld3JpdGVTdW1tYXJ5UmVzcG9uc2U7XG4gICAgdXBkYXRlZC5zdW1tYXJ5ID0gcmV3cml0dGVuU3VtbWFyeTtcblxuICAgIC8vIDYuIFJld3JpdGUgc2tpbGxzXG4gICAgLy8gNi4gUmV3cml0ZSBza2lsbHMgdmlhIFBhZ2VzIEFQSVxuICAgIGNvbnN0IHNraWxsc1JlcyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L2FwaS9yZXdyaXRlLXNraWxsc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG9yaWdpbmFsU2tpbGxzOiB1cGRhdGVkLnNraWxscyxcbiAgICAgICAgb3B0aW1pemVkU3VtbWFyeTogdXBkYXRlZC5zdW1tYXJ5LFxuICAgICAgICBvcHRpbWl6ZWRCdWxsZXRzOiB1cGRhdGVkLndvcmsuZmxhdE1hcCgodykgPT4gdy5idWxsZXRzKSxcbiAgICAgICAga2V5d29yZHMsXG4gICAgICAgIHRhcmdldFRpdGxlLFxuICAgICAgICB0YXJnZXRDb21wYW55LFxuICAgICAgICByZXF1aXJlbWVudHMsXG4gICAgICAgIGpvYkRlc2NyaXB0aW9uLFxuICAgICAgfSksXG4gICAgfSk7XG4gICAgaWYgKCFza2lsbHNSZXMub2spIHRocm93IG5ldyBFcnJvcigncmV3cml0ZS1za2lsbHMgZmFpbGVkJyk7XG4gICAgY29uc3QgeyByZXdyaXR0ZW5Ta2lsbHMgfSA9IChhd2FpdCBza2lsbHNSZXMuanNvbigpKSBhcyBSZXdyaXRlU2tpbGxzUmVzcG9uc2U7XG4gICAgdXBkYXRlZC5za2lsbHMgPSByZXdyaXR0ZW5Ta2lsbHM7XG5cbiAgICAvLyA3LiBSZXdyaXRlIHByb2plY3RzIHZpYSBQYWdlcyBBUEkgKGlmIHByZXNlbnQpXG4gICAgaWYgKHBhcnNlZFJlc3VtZS5wcm9qZWN0cyAmJiBwYXJzZWRSZXN1bWUucHJvamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcHJvalJlcyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L2FwaS9yZXdyaXRlLXByb2plY3RzYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBwcm9qZWN0czogcGFyc2VkUmVzdW1lLnByb2plY3RzLFxuICAgICAgICAgIGtleXdvcmRzLFxuICAgICAgICAgIHJlcXVpcmVtZW50cyxcbiAgICAgICAgICB0YXJnZXRUaXRsZSxcbiAgICAgICAgICB0YXJnZXRDb21wYW55LFxuICAgICAgICAgIGpvYkRlc2NyaXB0aW9uLFxuICAgICAgICAgIHNraWxsczogdXBkYXRlZC5za2lsbHMsXG4gICAgICAgICAgc3VtbWFyeTogdXBkYXRlZC5zdW1tYXJ5XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghcHJvalJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdyZXdyaXRlLXByb2plY3RzIGZhaWxlZCcpO1xuICAgICAgY29uc3QgeyByZXdyaXR0ZW5Qcm9qZWN0cyB9ID0gKGF3YWl0IHByb2pSZXMuanNvbigpKSBhcyB7IHJld3JpdHRlblByb2plY3RzOiBhbnlbXSB9O1xuICAgICAgdXBkYXRlZC5wcm9qZWN0cyA9IHJld3JpdHRlblByb2plY3RzO1xuICAgIH1cbiAgICAvLyBFbnN1cmUgY2VydGlmaWNhdGlvbnMgJiBhd2FyZHMgZmxvdyB0aHJvdWdoIHRvIG9wdGltaXplZCByZXN1bWVcbiAgICB1cGRhdGVkLmNlcnRpZmljYXRpb25zID0gcGFyc2VkUmVzdW1lLmNlcnRpZmljYXRpb25zIHx8IFtdO1xuICAgIHVwZGF0ZWQuYXdhcmRzID0gcGFyc2VkUmVzdW1lLmF3YXJkcyB8fCBbXTtcbiAgICAvLyA4LiBQZXJzaXN0IG9wdGltaXphdGlvbiBydW5cbiAgICBjb25zdCBydW5EYXRhOiBPcHRpbWl6YXRpb25SdW5EYXRhID0ge1xuICAgICAgdXNlcklkLFxuICAgICAgcmVzdW1lRmlsZUlkOiByZXN1bWVGaWxlLmlkLFxuICAgICAgam9iRGVzY3JpcHRpb24sXG4gICAgICB0ZW1wbGF0ZUlkOiBTdHJpbmcodGVtcGxhdGVJZCksXG4gICAgICBvcmlnaW5hbFRleHQ6IEpTT04uc3RyaW5naWZ5KG9yaWdpbmFsUGFyc2VkUmVzdW1lKSxcbiAgICAgIG9wdGltaXplZFRleHQ6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpLFxuICAgICAgYnVsbGV0UmV3cml0ZXM6IHJld3JpdGVSZXN1bHRzLFxuICAgICAgc3VtbWFyeVJld3JpdGU6IHVwZGF0ZWQuc3VtbWFyeSxcbiAgICAgIHNraWxsc1Jld3JpdGU6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQuc2tpbGxzKSxcbiAgICAgIGtleXdvcmRzLFxuICAgICAgcmVxdWlyZW1lbnRzLFxuICAgICAgdGFyZ2V0VGl0bGUsXG4gICAgICB0YXJnZXRDb21wYW55LFxuICAgICAgYWlNb2RlbDogJ28zLW1pbmktMjAyNS0wMS0zMScsXG4gICAgICB0b2tlbkNvdW50OiAwLFxuICAgICAgY29zdFVzZDogMCxcbiAgICB9O1xuICAgIGNvbnN0IHJ1biA9IGF3YWl0IHByaXNtYS5vcHRpbWl6YXRpb25SdW4uY3JlYXRlKHsgZGF0YTogcnVuRGF0YSBhcyBhbnkgfSk7XG5cbiAgICAvLyBSZXR1cm4gZnVsbCByZXN1bHQsIGVuc3VyaW5nIGNlcnRpZmljYXRpb25zICYgYXdhcmRzIGFyZSBpbmNsdWRlZFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBydW5JZDogcnVuLmlkLFxuICAgICAgb3JpZ2luYWxSZXN1bWU6IG9yaWdpbmFsUGFyc2VkUmVzdW1lLFxuICAgICAgb3B0aW1pemVkUmVzdW1lOiB7XG4gICAgICAgIC4uLnVwZGF0ZWQsXG4gICAgICAgIGNlcnRpZmljYXRpb25zOiBwYXJzZWRSZXN1bWUuY2VydGlmaWNhdGlvbnMgfHwgW10sXG4gICAgICAgIGF3YXJkczogcGFyc2VkUmVzdW1lLmF3YXJkcyB8fCBbXSxcbiAgICAgIH0sXG4gICAgICBrZXl3b3JkcyxcbiAgICAgIHJlcXVpcmVtZW50cyxcbiAgICAgIHRhcmdldFRpdGxlLFxuICAgICAgdGFyZ2V0Q29tcGFueSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG9wdGltaXplLXJlc3VtZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImF1dGgiLCJjbGVya0NsaWVudCIsInByaXNtYSIsImNyZWF0ZUhhc2giLCJydW50aW1lIiwiUE9TVCIsInJlcSIsInJlc3VtZVRleHQiLCJyZXN1bWVEYXRhIiwiam9iRGVzY3JpcHRpb24iLCJ0ZW1wbGF0ZUlkIiwiZmlsZU5hbWUiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJzZXNzaW9uIiwidXNlcklkIiwiY2xlcmtVc2VyIiwidXNlcnMiLCJnZXRVc2VyIiwiZW1haWwiLCJlbWFpbEFkZHJlc3NlcyIsImVtYWlsQWRkcmVzcyIsImZ1bGxOYW1lIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJ0cmltIiwidXNlciIsInVwc2VydCIsIndoZXJlIiwiaWQiLCJjcmVhdGUiLCJ1cGRhdGUiLCJwcm90b2NvbCIsInByb2Nlc3MiLCJob3N0IiwiaGVhZGVycyIsImdldCIsImJhc2VVcmwiLCJyYXdUZXh0Iiwibm9ybWFsaXplZFRleHQiLCJyZXBsYWNlIiwib3JpZ2luYWxUZXh0SGFzaCIsImRpZ2VzdCIsInJlc3VtZUZpbGUiLCJkYXRhIiwiZmlsZVBhdGgiLCJwYXJzZWRSZXN1bWUiLCJzYXZlZCIsInNhdmVkUmVzdW1lIiwiZmluZEZpcnN0IiwidGV4dEhhc2giLCJwYXJzZWREYXRhIiwicGFyc2VSZXMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdW1lIiwib2siLCJFcnJvciIsImpkUmVzIiwia2V5d29yZHMiLCJ0YXJnZXRUaXRsZSIsInRhcmdldENvbXBhbnkiLCJyZXF1aXJlbWVudHMiLCJvcmlnaW5hbFBhcnNlZFJlc3VtZSIsInBhcnNlIiwidXBkYXRlZCIsImNlcnRpZmljYXRpb25zIiwiYXdhcmRzIiwibWFwUmVzIiwiYXNzaWdubWVudHMiLCJyZXdyaXRlUmVzdWx0cyIsInVzZWRWZXJicyIsInRhc2tzIiwid29yayIsImZvckVhY2giLCJ3b3JrSXRlbSIsIndpIiwiYnVsbGV0cyIsImJ1bGxldCIsImJpIiwiYXNzaWdubWVudCIsImZpbmQiLCJhIiwid29ya0luZGV4IiwiYnVsbGV0SW5kZXgiLCJwdXNoIiwiYXNzaWduZWRLZXl3b3JkcyIsImNvbmN1cnJlbmN5IiwiaSIsImxlbmd0aCIsImJhdGNoIiwic2xpY2UiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImJ1bGxldFJlcyIsImpvYlRpdGxlIiwidGl0bGUiLCJjb21wYW55Iiwic2tpbGxzIiwicmV3cml0dGVuQnVsbGV0Iiwia2V5d29yZHNVc2VkIiwiZmlyc3RXb3JkIiwic3BsaXQiLCJ0b0xvd2VyQ2FzZSIsImNvbXBhbmllcyIsIkFycmF5IiwiZnJvbSIsIlNldCIsInciLCJqb2luIiwidGl0bGVzIiwicGFyc2VZZWFyIiwicyIsIm0iLCJtYXRjaCIsInBhcnNlSW50IiwiZW5kWWVhcnMiLCJ0byIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImZpbHRlciIsInkiLCJzdGFydFllYXJzIiwieWVhcnNFeHAiLCJNYXRoIiwibWF4IiwibWluIiwiZXhwZXJpZW5jZVNuYXBzaG90IiwiQm9vbGVhbiIsInN1bW1hcnlSZXMiLCJvcmlnaW5hbFN1bW1hcnkiLCJzdW1tYXJ5Iiwib3B0aW1pemVkQnVsbGV0cyIsImZsYXRNYXAiLCJyZXdyaXR0ZW5TdW1tYXJ5Iiwic2tpbGxzUmVzIiwib3JpZ2luYWxTa2lsbHMiLCJvcHRpbWl6ZWRTdW1tYXJ5IiwicmV3cml0dGVuU2tpbGxzIiwicHJvamVjdHMiLCJwcm9qUmVzIiwicmV3cml0dGVuUHJvamVjdHMiLCJydW5EYXRhIiwicmVzdW1lRmlsZUlkIiwiU3RyaW5nIiwib3JpZ2luYWxUZXh0Iiwib3B0aW1pemVkVGV4dCIsImJ1bGxldFJld3JpdGVzIiwic3VtbWFyeVJld3JpdGUiLCJza2lsbHNSZXdyaXRlIiwiYWlNb2RlbCIsInRva2VuQ291bnQiLCJjb3N0VXNkIiwicnVuIiwib3B0aW1pemF0aW9uUnVuIiwicnVuSWQiLCJvcmlnaW5hbFJlc3VtZSIsIm9wdGltaXplZFJlc3VtZSIsImNvbnNvbGUiLCJtZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/optimize-resume/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) {\n    global.prisma = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFNdkMsTUFBTUMsU0FBU0MsT0FBT0QsTUFBTSxJQUFJLElBQUlELHdEQUFZQSxHQUFHO0FBRTFELElBQUlHLElBQXFDLEVBQUU7SUFDekNELE9BQU9ELE1BQU0sR0FBR0E7QUFDbEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jb2xpbmhheWVzL3JlemlhLWFpLXJlc3VtZS1jcmFmdC9zcmMvbGliL3ByaXNtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsLnByaXNtYSB8fCBuZXcgUHJpc21hQ2xpZW50KCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGdsb2JhbC5wcmlzbWEgPSBwcmlzbWE7XG59XG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwiZ2xvYmFsIiwicHJvY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../../server/app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@clerk","vendor-chunks/@opentelemetry","vendor-chunks/tslib","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/no-case","vendor-chunks/map-obj","vendor-chunks/lower-case","vendor-chunks/dot-case","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Foptimize-resume%2Froute&page=%2Fapi%2Foptimize-resume%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptimize-resume%2Froute.ts&appDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinhayes%2Frezia-ai-resume-craft&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();